---
title: selectComposition()v4.0.0
source: Remotion Documentation
last_updated: 2024-12-22
---

# selectComposition()v4.0.0

- [Home page](/)
- [@remotion/renderer](/docs/renderer)
- selectComposition()

On this page

# selectComposition() [v4.0.0](https://github.com/remotion-dev/remotion/releases/v4.0.0)

Evaluates the list of compositions from a [Remotion Bundle](/docs/terminology/bundle) by evaluating the [Remotion Root](/docs/terminology/remotion-root) and evaluating `calculateMetadata()` on the specified [composition](/docs/terminology/composition).

If you want to get a list of all compositions, use [`getCompositions()`](/docs/renderer/get-compositions).

If no composition with the specified [ID](/docs/terminology/composition#composition-id) exists, then this function will throw.

```

Example
tsx

import { bundle } from "@remotion/bundler";
import { selectComposition } from "@remotion/renderer";

const bundled = await bundle({ entryPoint: require.resolve("./src/index.ts") });
const composition = await selectComposition({
  serveUrl: bundled,
  id: "MyComposition",
  inputProps: {},
});

console.log(composition.id); // "MyComposition"
console.log(composition.width, composition.height);
console.log(composition.fps, composition.durationInFrames);
```

```

Example
tsx

import { bundle } from "@remotion/bundler";
import { selectComposition } from "@remotion/renderer";

const bundled = await bundle({ entryPoint: require.resolve("./src/index.ts") });
const composition = await selectComposition({
  serveUrl: bundled,
  id: "MyComposition",
  inputProps: {},
});

console.log(composition.id); // "MyComposition"
console.log(composition.width, composition.height);
console.log(composition.fps, composition.durationInFrames);
```

## API [​](\#api "Direct link to API")

Accepts an object with the following properties:

### `serveUrl` [​](\#serveurl "Direct link to serveurl")

A string pointing to a [Remotion Bundle](/docs/terminology/bundle) generated by [`bundle()`](/docs/bundle) or a URL that hosts the the bundled Remotion project.

### `id` [​](\#id "Direct link to id")

The [ID](/docs/terminology/composition#composition-id) of the composition you want to evaluate.

### `inputProps` [​](\#inputprops "Direct link to inputprops")

_optional in <5.0, required from 5.0_

[Input Props to pass to the selected composition of your video.](/docs/passing-props#passing-input-props-in-the-cli).

Must be a JSON object.

From the root component the props can be read using [`getInputProps()`](/docs/get-input-props).

You may transform input props using [`calculateMetadata()`](/docs/calculate-metadata).

### `logLevel?` [​](\#loglevel "Direct link to loglevel")

One of `verbose`, `info`, `warn`, `error`.

Determines how much is being logged to the console.

`verbose` will also log `console.log`'s from the browser.

Default `info`.

### `port?` [​](\#port "Direct link to port")

Prefer a specific port that will be used to serve the Remotion project. If not specified, a random port will be used.

### `chromiumOptions?` [​](\#chromiumoptions "Direct link to chromiumoptions")

See: [Chromium Flags](/docs/chromium-flags)

### `timeoutInMilliseconds?` [​](\#timeoutinmilliseconds "Direct link to timeoutinmilliseconds")

A number describing how long the render may take to resolve all [`delayRender()`](/docs/delay-render) calls [before it times out](/docs/timeout). Default: `30000`

### `browserExecutable?` [​](\#browserexecutable "Direct link to browserexecutable")

A string defining the absolute path on disk of the browser executable that should be used. By default Remotion will try to detect it automatically and download one if none is available.

### `onBrowserLog?` [​](\#onbrowserlog "Direct link to onbrowserlog")

Gets called when your project calls `console.log` or another method from console. See the documentation for [`renderFrames`](/docs/renderer/render-frames#onbrowserlog) for more information.

### `puppeteerInstance?` [​](\#puppeteerinstance "Direct link to puppeteerinstance")

An already open Puppeteer [`Browser`](/docs/renderer/open-browser) instance. Reusing a browser across multiple function calls can speed up the rendering process. You are responsible for opening and closing the browser yourself. If you don't specify this option, a new browser will be opened and closed at the end.

### `envVariables?` [​](\#envvariables "Direct link to envvariables")

An object containing environment variables to be injected in your project.

See: [Environment variables](/docs/env-variables/)

### `offthreadVideoCacheSizeInBytes?` [v4.0.23](https://github.com/remotion-dev/remotion/releases/v4.0.23) [​](\#offthreadvideocachesizeinbytes "Direct link to offthreadvideocachesizeinbytes")

From v4.0, Remotion has a cache for [`<OffthreadVideo>`](https://remotion.dev/docs/offthreadvideo) frames. The default is `null`, corresponding to half of the system memory available when the render starts.

This option allows to override the size of the cache. The higher it is, the faster the render will be, but the more memory will be used.

The used value will be printed when running in verbose mode.

Default: `null`

### `binariesDirectory?` [v4.0.120](https://github.com/remotion-dev/remotion/releases/v4.0.120) [​](\#binariesdirectory "Direct link to binariesdirectory")

The directory where the platform-specific binaries and libraries that Remotion needs are located. Those include an `ffmpeg` and `ffprobe` binary, a Rust binary for various tasks, and various shared libraries. If the value is set to `null`, which is the default, then the path of a platform-specific package located at `node_modules/@remotion/compositor-*` is selected.

This option is useful in environments where Remotion is not officially supported to run like bundled serverless functions or Electron.

#### `onBrowserDownload?` [v4.0.137](https://github.com/remotion-dev/remotion/releases/v4.0.137) [​](\#onbrowserdownload "Direct link to onbrowserdownload")

Gets called when no compatible local browser is detected on the system and this API needs to download a browser. Return a callback to observe progress. [See here for how to use this option.](/docs/renderer/ensure-browser#onbrowserdownload)

## See also [​](\#see-also "Direct link to See also")

- [Source code for this function](https://github.com/remotion-dev/remotion/blob/main/packages/renderer/src/select-composition.ts)
- [Server-Side rendering](/docs/ssr)
- [`getCompositions()`](/docs/renderer/get-compositions)
- [`bundle()`](/docs/bundle)

[Improve this page](https://github.com/remotion-dev/remotion/edit/main/packages/docs/docs/renderer/select-composition.mdx)

[Ask on Discord](https://remotion.dev/discord)

[Get help](/docs/get-help)

Last updated on **Dec 20, 2024**

[Previous\
\
getCompositions()](/docs/renderer/get-compositions) [Next\
\
renderMedia()](/docs/renderer/render-media)

- [API](#api)
  - [`serveUrl`](#serveurl)
  - [`id`](#id)
  - [`inputProps`](#inputprops)
  - [`logLevel?`](#loglevel)
  - [`port?`](#port)
  - [`chromiumOptions?`](#chromiumoptions)
  - [`timeoutInMilliseconds?`](#timeoutinmilliseconds)
  - [`browserExecutable?`](#browserexecutable)
  - [`onBrowserLog?`](#onbrowserlog)
  - [`puppeteerInstance?`](#puppeteerinstance)
  - [`envVariables?`](#envvariables)
  - [`offthreadVideoCacheSizeInBytes?`](#offthreadvideocachesizeinbytes)
  - [`binariesDirectory?`](#binariesdirectory)
- [See also](#see-also)
